# 软件工程里的"重用"--从中台说起

前段一个关于“中台”的文章被广为传转发，有挺中台的也有dis中台的。有朋友说，身边确实有需求要做这个的，你怎么看，有什么思路么。这里我就整理一下，大概思路是从中台说起，然后说下软件工程里的“重用”，最后说一些企业内部开源的思路和想法。漫谈，没有什么太强的目的和意图，看的人也不用强加看法上纲上线。

套用一个路子，凡事都离不开“从哪来，是什么，到哪去”这三个根本话题，中台也不例外；但是“是什么”和“到哪去”我也不知道，也说不清楚...就是作为铺垫先说“从哪来”，毕竟这个信息是公开渠道可以获得的，即使说不清楚也可以说的八九不离十。按照广为传颂的，大概是首富去了欧洲参观，看到有些公司可以快速的开发同质的产品（有可能是软件，比如游戏），并且赚了大钱，首富颇为欣赏这个思路。不知道当时欧洲公司英语之类的怎么介绍这个，首富用自己的语言天赋和灵感给这个办法一个名字“中台”。并且叮嘱属下回去好好研究，深入践行。说个题外话，搞游戏的，还有搞网站的，批量生产游戏和站点是个标准套路，游戏和网站的产销是一个完整的产业链，这个并不神秘也不稀奇。一般搞游戏的，要么偶出爆款，要么就是一直出大路货然后靠量发财...频出爆款的，那是真实力。回到话题里，首富的这个“殷切期望”，属下深入解读之后，提出了一个可行且有意义的实践方案--合并首富旗下多条业务线通用的部分。不得不说首富手下有能人，一方面这里确实有很多地方是重复建设，包括业务也包括技术，确实需要整合；一方面这个方案实际是一个组织结构调整的好的理由。大的组织定期“重组”既是个习惯，也是个需要...时间飞快，很快这个就“落地”了，具体做了什么，有哪些收效，有哪些可度量结果，这些都不重要，重要的是这个过程被迅速的迭代成了一个“故事”。要知道，首富旗下，能讲故事是基本技能，江湖传闻“自带PR属性”，我认为这说法不是贬义，但是其他人具体怎么理解，就因人而异了。到这里，事情发生了重大的变化：“中台”变成了一个技术概念。至于怎么做到的，是作者有意升华出来的，还是读者自己“揣摩”和“升华”，无从考之。首富旗下除了有能把老板想法落地的人才，也有能讲故事的人才，但是最重要是首富手下有能挖坑的人才...所谓小坑怡情...这种“可重用”“提高生产力”的神奇事物，只有在推广到市场上，才能为首富创造更大的价值--不仅给我省钱，还得给我赚钱。首富的思路清晰明了，挖坑人心领神会--内部技术硬邦邦的真家伙，从云部门推出去给市场检验一下~云部门具有超强的执行力，毕竟执行力“不好”的都在考评环节“贡献社会人才”了。执行的结果就是：泱泱大厂是不做落地项目的--可以理解，一个是做不好容易跌份，一个是成本确实高。题外话，现在说也就是前年，某天府之国的汽车大厂找某云落地一“平台”，最后某云提出“（项目）钱我不要了，但是平台我也不做了”，被该车厂CIO痛骂...这是段子...这个大厂被坑之后，恰逢去年经济不景气汽车行业不景气，在合资车品牌里领跌...事情没有因果，都是运气。大厂自己不落地可以，但是总还是有市场需求的，此时天降奇缘：更有钱的金主出现了，要说该金主在赚钱方面真的是横扫云这种苦逼的生意...以产地为“护城河”，市值一涨再涨...中东什么黑色黄金还需要开采，这个比开采还省事...欧洲洋人的葡萄酒还分什么产地年份，这个东西要简单很多...金主要开拓“网上渠道”...不知道这种躺钱的地方，怎么还会有改进赚钱方式方法的想法...贫穷是限制我想象力的...不过客观上看起来，一个是这种东西不需要网上渠道，一个是网上渠道一定会和既有的分销体系在利益上有冲突，一个是真的需要网上营销也可以用既有方案，再不济，随手就收购一个酒类电商平台，应该是绰绰有余...所谓“坑不单行”...最后也是闹得沸沸扬扬...以至于很多人都开始怀疑“中台”了。为了挽回声誉，神秘补刀手出场，迅速给这个事情定了个性：中台不是谁做都可以的，涉及到组织调整，是一把手工程。这个说法类似“衣服好不好看，也分谁穿”，属于高级黑...不仅搞这个事的人级别不够，而且你组织结构也不够“先进”...不是车不行，是开车的人不行，是路不行。自古挖坑不留名，要命还看神补刀。跑题了...

回到话题本身，还是有不少人提想要建设中台的，我们来探讨下这其中的原委。先说一部分结论：对中台有期望的本质都是在寻求某种“重用”；然后本文结尾，在把这个结论补齐。

提到重用，我们把话题转到20世纪最伟大的发明，计算机。到目前为止，我们用的计算机体系主体还是诺伊曼体系，在这个体系内，对于一个程序，在给定的输入情况下，输出是确定的。人们也在尝试用这个体系去解决“不确定输入下”如何获取“尽可能确定”的输出，或者说“多大程度的确定性”，这个主要是因为输入的不确定性，并非诺伊曼计算体系的原因。在这个大的技术背景和前提下，配合了一些类似“do not repeat yourself”之类的指导思想，计算机工程里呈现了一个有趣的特征：机器尽可能的做重复的事情，但是计算机相关人员在极力的避免“重复劳动”。为了避免重复劳动，计算机领域人员在过去70多年时间(从1946年开始计算)里先后实践和找到了很多达成共识的“避免重复劳动”，也就是“重用”的方法：
1. 拷贝、粘贴、复制。这些最基本的重用，其实每天都主导着大多数计算机领域工作人员的工作...
2. 程序，或者称为可执行程序
3. 类库。这个可能是被大家最熟悉的重用方式，封装起来被反复调用
4. 框架。框架很大程度是面向编程人员的。计算机领域工作人员其中一部分是程序员，程序员通过框架可以提高开发速度和质量
5. 服务。相比于以上的几种，服务是一个跨越。因为服务这个词汇的抽象性，我们这里把服务约束到“REST”，以方便后续的讨论。最具有标志性，也是被最多人熟知的，是另外一个首富，在2000年后提出来的。当时以贝索斯为领导的亚马逊团队，发现内部团队之间在实现功能时候会采用不同的工具和方式，这导致了“合作”的难度大大增加，而如果过度的约束团队的工具和方式，又有副作用（比如学习成本，比如创新被压制）。这个背景下，亚马逊开始倡导“注意接口重用，具体实现各自为政”的工作指导思想。而这里的“接口”和“实现”，就是REST API和“服务”。这个“基于接口重用的服务体系”后来衍生出了“云计算”这种影响深远的东西...当然，这个思路并非只有亚马逊有，只是亚马逊比较早的明确提出这个论调。题外话一下，亚马逊也是个强调“讲故事”的地方...东西方首富在这里有了异曲同工的地方...
6. 平台。实际上平台并不是计算机领域重用的方法，这里列出来主要是为了枚举我们常用的“重用”的方式和方法
